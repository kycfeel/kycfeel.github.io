---
layout: post
title:  "어서오세요. Docker의 세계에."
date:   2017-03-14 16:02:40 +0900
categories: Docker
---

Hello, Docker!
========================

[Docker](https://www.docker.com). 많이 들어보셨을 것이라 생각한다. 개발자가 VM의 늪에서 허덕일 때 나타난 구세주가 아닌가? 필자는 개발자(Dev) 보다는 시스템 엔지니어(Ops) 계열이기에 더더욱 Docker를 사용할 일이 많다. 다만 요근래 *취직을 못해서* 관련 지식은 있어도 직접 다룰 일은 거의 없었는데, 얼마 전 면접을 보고온 스타트업에 들어가게 되면 Docker를 바로 업무에서 사용할 것 같기에 결과 기다리는 시간 중 김칫국 마시며 Docker를 되짚어 보려 한다. 이 포스트부터 철저히 필자에게 초점이 맞춰진 Docker 이야기를 시작하겠다. 최대한 noob부터 pro까지 포괄적인 커버가 가능하게 글을 작성하려 하니 모두에게 도움이 됬으면 좋겠다.

Docker?
========================

대체 Docker가 무엇인데 그러냐? VM의 늪에서 구원을 해준다는게 뭔 소린가? 도구는 사용할 목적이 있어야 빛을 낸다. 처음 Docker를 만나는 분들에게는 당연하고도 중요한 질문이다. 그런데 Docker 자체를 만지기에 앞서 컨테이너 기술부터 이야기를 시작하겠다. 영어로 무언가 담을 수 있는 공간을 컨테이너라 한다. 무언가(애플리케이션, 서버)를 담을 수 있는 공간을 만들어주는 기술. 그게 컨테이너 기술이다. Docker는 그런 컨테이너 기술을 다루는 하나의 플랫폼이다. 개인 PC에서 Docker로 독립된 공간을 만들어 깔끔하게 애플리케이션을 구축하고, 패키지(이미지)로 만들어서 업무 서버에 가져다 넣으면 그대로 작동된다. 다른 사람과 자유롭게 공유도 할 수 있다. 물론 다른 사람이 미리 만들어둔 이미지를 다운받아 조금 뜯어 고쳐 사용할 수도 있다. 어디서 많이 본것들 아닌가? 바로 VM이다. 지금까지 VM이 위에서 말한 일들을 가능하게 했다. 그럼 컨테이너 기술을 사용한다는 Docker와 다른 점은 무엇일까? VM은 하드웨어와 운영체제까지 가상화하지만 컨테이너 기술은 공간만 나눈다. 즉, 호스트 컴퓨터와 운영체제 커널과 시스템 리소스를 공유한다는 소리다. 더 이상 기존 VM처럼 운영체제 가상화 등으로 추가적인 리소스 소모를 하지 않아도 된다는 거다. 당장은 VM을 사용할 때 느끼던 장점은 따오고 단점은 보완한 이상적인 녀석이라고 이해해도 크게 문제는 없을 것 같다. 시간과 글 쓸 공간은 얼마든지 있으니, 더 자세한 Docker의 매력은 차차 진행하면서 알아보도록 하자.

Docker 설치하기
========================

필자는 CentOS를 사랑하니 CentOS 기준으로 아래 내용을 작성했다. 혹시 레드헷 배포판을 사용하지 않는 분들은 [여기](https://docs.docker.com/engine/installation/#platform-support-matrix)를 참고하시면 된다.

```
sudo yum install -y yum-utils
```
위 명령어로 `yum-utils`를 설치하고 시작하자.

```
sudo yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
```
위 명령어는 Stable 버전의 Repo를 등록해준다. 참고로 저기 도메인 끝의 `docker-ce`는 무료 버전을 뜻하는 Docker Community Edition의 줄임말이다. 혹시 정말 중요한 기업 시스템을 돌리기 위해 Docker를 알아보고 있고 전문 기술팀의 지원이 있으면 좋을 것 같다는 분들은 [이것](https://www.docker.com/enterprise-edition)을 읽어 보시길 바란다.

```
sudo yum makecache fast
```
이제 위 명령어로 yum 패키지 목록을 업데이트한다.

```
sudo yum install docker-ce
```
업데이트가 끝났으면 위 명령어로 Docker를 설치하면 된다. 참 쉽죠?

혹시라도 특정 버전의 Docker를 정해 사용해야 하시는 분들은 위 명령어 뒤에 원하는 버전을 `sudo yum install docker-ce-<VERSION>` 이런 식으로 붙혀 주시면 된다.


```
sudo systemctl start docker
sudo systemctl stop docker
```

설치가 완료된 Docker는 다른 애플리케이션과 마찬가지로 위처럼 제어할 수 있다.

자, 대망의 순간이다. 이제 위에서 읽고 침흘린 Docker를 직접 작동시켜볼 때가 왔다. `sudo docker run hello-world` 명령어로 테스트 이미지를 다운로드받아 실행할 수 있다. 콘솔에 "Hello World"가 정상적으로 출력되었는가? *어서오세요. Docker의 세계에.*

앞으로 이어질 포스트에서 자세한 활용 방법과 관련 도구 등을 다루겠다.
